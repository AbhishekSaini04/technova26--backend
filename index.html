<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Event Form</title>
  </head>
  <body>
    <h2>Create / Update Event</h2>

    <form id="eventForm">
      <label>Title:</label><br />
      <input type="text" name="title" /><br /><br />

      <label>Description:</label><br />
      <input type="text" name="description" /><br /><br />

      <label>Department:</label><br />
      <input type="text" name="department" /><br /><br />

      <!-- ✅ Min Team Size -->
      <label>Minimum Team Size:</label><br />
      <input type="number" name="minTeamSize" /><br /><br />

      <!-- ✅ Max Team Size -->
      <label>Maximum Team Size:</label><br />
      <input type="number" name="maxTeamSize" /><br /><br />

      <label>Date & Time:</label><br />
      <input type="datetime-local" name="date" /><br /><br />

      <label>Venue:</label><br />
      <input type="text" name="venue" /><br /><br />

      <label>Rules:</label><br />
      <textarea name="rules" rows="4" cols="30"></textarea><br /><br />

      <label>Event Image:</label><br />
      <input type="file" name="image" accept="image/*" /><br /><br />

      <button type="submit">Submit</button>
    </form>

    <script>
      const form = document.getElementById("eventForm");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const formData = new FormData(form);

        const token =
          "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhYmhpc2hla3NhaW5pOTM1MDBAZ21haWwuY29tIiwibmFtZSI6IkFiaGlzZWhrIiwicm9sZSI6IkFETUlOIiwiaWF0IjoxNzcwNDY3MjAxLCJleHAiOjE3NzEwNzIwMDF9.VUNdEqRgRPdsDNtsIUOU5j3OeFHmZNJwsYy3XD0g7ng";

        const response = await fetch(
          "http://localhost:3000/api/events/add",
          {
            method: "POST",
            headers: {
              Authorization: token, // ✅ correct format
            },
            body: formData,
          }
        );

        const result = await response.json();
        console.log(result);
      });
    </script>
  </body>
</html>
